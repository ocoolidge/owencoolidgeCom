<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Parse Tweets using JQuery getJSON() demo</title>
<style>
img {
height: 100px;
float: left;
}
</style>
<script src="jquery-3.2.1.min.js"></script>
</head>
<body>
<div id="twitter-feed">
</div>
<script>

var count = 0;
var uniqueIds = [];
var ids = [];
var isUnique = true;

$(document).ready(function () {
		// get the json file
		//Our URL parameter will be the results written from the php request.
		//Since we are not posting data we don’t need the second parameter.
		//The function getJSON returns a "JSON" object which we will use as parameter for the callback function.
		//link to the accessTweets.php page ...
 $.getJSON( 'twitterEx.php',
				function(feedsArray) {
				// new :: since the result is now an array we must go through every element ... 
				for(var i=0; i<feedsArray.length; i++)
				{
				  // THIS IS THE ARRAY FROM A PARTICULAR SEARCH ...
				  var feeds = feedsArray[i];
				  console.log(feedsArray[i]);
    // this is where we can loop through the results in the feeds object
		$.each(feeds.statuses, function(countTweets,tweet){
    	 // this is where we do what we want with the tweet
    	 //Let’s break down the loop. the first parameter "feeds.statuses" refers to the array in the object we want to loop through,
    	 //since the only array in the json response from the Twitter search API is "statuses" we say feeds.statuses.
    	 //The second parameter, the function, has two parameters and you can change the name of them if you want to, I used "countTweets" and "tweet".
		//The the “countTweets” refers to the current number of loops and you could use if for example to display the number of results you got from the query.
		//The “tweet” refers to the current tweet, so you can refer to any of the following keys by prepending the word “tweet” before them.
		//To get the username from which the tweet originated you would use tweet.from_user ,
		//to get the actual tweet you would use tweet.text.
		//Let’s put the profile image and text from tweet in our div tag.
		// because we searched via geo location we have now some geocode coordinates or place? ...
		console.log(tweet.id + " " + count + tweet.place + tweet.created_at )
		count++;

		ids.push(tweet.id);

		/*isUnique = true;

		for(i = 0; i < uniqueIds.length; i++){
			if(tweet.id == uniqueIds[i]){
				isUnique == false;
			}
		}
		if(isUnique){
			uniqueIds.push(tweet.id);
			isUnique == false;
		}*/


		/*if(tweet.place.bounding_box!="undefined")
		{
			//document.write(tweet.place.bounding_box)
			$.each(tweet.place.bounding_box, function(countTweetsMM,tweetMM){
			document.write(tweetMM)
			}); //for each ...


		}*/
		$("#twitter-feed").append('<div style="height:100px;width:400px"><img src="'+tweet.user.profile_image_url+'" />'+tweet.text+countTweets+'</div>');

		}); //for each ....
		}//array of results;
		});// getJSON
		}); // document ready
//console.log(uniqueIds.length);

</script>
</body>
</html>
